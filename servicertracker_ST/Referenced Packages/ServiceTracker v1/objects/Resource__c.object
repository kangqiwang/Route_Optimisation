<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <deprecated>false</deprecated>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>true</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <fields>
        <fullName>Account_Number__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Account Number</label>
        <length>18</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Colour__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Colour</label>
        <length>15</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>EndOfDay__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>End of Day</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>04:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>05:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>06:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>07:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>08:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>09:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>10:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>11:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>12:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>13:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>14:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>15:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>16:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>17:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>18:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>19:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>20:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>21:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>22:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>23:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>00:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>01:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>02:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>03:00</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Expiry_Date__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expiry Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Fixed_Location__c</fullName>
        <deprecated>false</deprecated>
        <displayLocationInDecimal>false</displayLocationInDecimal>
        <externalId>false</externalId>
        <inlineHelpText>The start of day and end of day geolocation</inlineHelpText>
        <label>Fixed Location</label>
        <required>false</required>
        <scale>6</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Location</type>
    </fields>
    <fields>
        <fullName>Location__c</fullName>
        <deprecated>false</deprecated>
        <displayLocationInDecimal>false</displayLocationInDecimal>
        <externalId>false</externalId>
        <inlineHelpText>Last GeoLocation of Resource</inlineHelpText>
        <label>Location</label>
        <required>false</required>
        <scale>6</scale>
        <trackFeedHistory>true</trackFeedHistory>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Location</type>
    </fields>
    <fields>
        <fullName>Lunch_Break_Minutes__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>Lunch break time</inlineHelpText>
        <label>Lunch Break (Minutes)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Photo_del__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>Photo of resource</inlineHelpText>
        <label>Photo</label>
        <length>32768</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Html</type>
        <visibleLines>25</visibleLines>
    </fields>
    <fields>
        <fullName>Print__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>HYPERLINK(&apos;/apex/PrintIdentification?Id=&apos;+ Id,&apos;Print Identification Card&apos;, &apos;_Blank&apos;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Print</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Registered_No__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Registered No.</label>
        <length>18</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Signature_Id__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>The signature Id can be found on the image URL of the corresponding signature i.e. 015b00000020qXX</inlineHelpText>
        <label>Signature Id</label>
        <length>18</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>StartOfDay__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Start of Day</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>04:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>05:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>06:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>07:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>08:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>09:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>10:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>11:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>12:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>13:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>14:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>15:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>16:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>17:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>18:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>19:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>20:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>21:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>22:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>23:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>00:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>01:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>02:00</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>03:00</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Status__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>Status of Resource</inlineHelpText>
        <label>Status</label>
        <required>false</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Available</fullName>
                    <default>true</default>
                </value>
                <value>
                    <fullName>Unavailable</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Inactive</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Territory__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>Service Territory of Resource</inlineHelpText>
        <label>Service Territory</label>
        <referenceTo>Service_Territory__c</referenceTo>
        <relationshipLabel>Resources</relationshipLabel>
        <relationshipName>Resources</relationshipName>
        <required>false</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Type__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>If(ISBLANK(User__c),&quot;Equipment&quot;,&quot;Employee&quot;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <inlineHelpText>Resource Type</inlineHelpText>
        <label>Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>User__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <inlineHelpText>Related UserId of Resource</inlineHelpText>
        <label>User</label>
        <referenceTo>User</referenceTo>
        <relationshipLabel>Resource</relationshipLabel>
        <relationshipName>Resources</relationshipName>
        <required>false</required>
        <trackFeedHistory>true</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>WebFleet_Driver_No__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>WebFleet Driver No.</label>
        <length>5</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Working_Hours__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Working Hours</label>
        <precision>3</precision>
        <required>false</required>
        <scale>1</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <label>Resource</label>
    <listViews>
        <fullName>All</fullName>
        <columns>NAME</columns>
        <columns>User__c</columns>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <nameField>
        <label>Resource Name</label>
        <trackFeedHistory>true</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>Text</type>
    </nameField>
    <pluralLabel>Resources</pluralLabel>
    <searchLayouts>
        <customTabListAdditionalFields>User__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>CREATEDBY_USER</customTabListAdditionalFields>
        <lookupDialogsAdditionalFields>User__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Type__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Status__c</lookupDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>User__c</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>Type__c</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>Status__c</lookupPhoneDialogsAdditionalFields>
        <searchResultsAdditionalFields>User__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>Type__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>Status__c</searchResultsAdditionalFields>
    </searchLayouts>
    <sharingModel>ReadWrite</sharingModel>
    <webLinks>
        <fullName>Book_Holiday</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>Book Holiday</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <url>&quot;/00U/e?evt1={!Resource__c.User__c}&amp;evt5=Holiday&amp;what_id={!Resource__c.Id}
&amp;evt3={!Resource__c.Name}&amp;IsReminderSet=FALSE&amp;retURL=%2F{!Resource__c.Id}&amp;evt10=Holiday&amp;evt6=Holiday Booking&quot;</url>
    </webLinks>
    <webLinks>
        <fullName>Book_Office_Visit</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>Book Office Visit</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <url>&quot;/00U/e?evt1={!Resource__c.User__c}&amp;evt5=Office Visit&amp;what_id={!Resource__c.Id}&amp;evt12=Office
&amp;evt3={!Resource__c.Name}&amp;IsReminderSet=FALSE&amp;retURL=%2F{!Resource__c.Id}&amp;evt10=Office Visit&amp;evt6=Reason for Office Visit:&quot;</url>
    </webLinks>
    <webLinks>
        <fullName>Location_History</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>page</linkType>
        <masterLabel>Location History</masterLabel>
        <openType>replace</openType>
        <page>ResourceHistoryMap</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Log_Sickness</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>Log Sickness</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <url>&quot;/00U/e?evt1={!Resource__c.User__c}&amp;evt5=Sickness&amp;what_id={!Resource__c.Id}&amp;evt12=Sickness
&amp;evt3={!Resource__c.Name}&amp;IsReminderSet=FALSE&amp;retURL=%2F{!Resource__c.Id}&amp;evt10=Sickness&amp;evt6=Reason for Sickness:&quot;</url>
    </webLinks>
    <webLinks>
        <fullName>Print_Consignment_Note</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Print Consignment Note</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/20.0/connection.js&quot;)} //adds the proper code for inclusion of AJAX toolkit

var answer=confirm(&quot;WARNING: This will update all non-disposed records with the disposal date of Today. Are you sure?&quot;); 
if (answer) { 

var url = &apos;/apex/ConsignmentNote?Id={!Resource__c.Id}&apos;; //string for the URL of the current page
var updateRecords = []; //array for holding records that this code will ultimately update
var id = &quot;&apos;{!Resource__c.Id}&apos;&quot;;

var cid = sforce.connection.query(&quot;Select Id from STKR__Prep_Waste_Management__c Where STKR__Visit__c in (Select Id from STKR__Visit__c Where STKR__Visit__c.STKR__Resource__c = &quot;+ id +&quot;) AND STKR__Disposal_Date__c = null&quot;);

var records = cid.getArray(&quot;records&quot;); 

  if (records.length &lt; 1) { alert(&quot;There are no records to be updated&quot;);

} else { //otherwise, there was a record found


for (var a=0; a&lt;records.length; a++) { //for all records
var update_record = new sforce.SObject(&quot;STKR__Prep_Waste_Management__c&quot;); //create a new sObject for storing updated record details
update_record.Id = records[a].Id; 
update_record.STKR__Disposal_Date__c = new Date().toISOString();

updateRecords.push(update_record); //add the updated record to our array
}

result = sforce.connection.update(updateRecords); //Insert records back to Salesforce
}
parent.location.href = url; //refresh the page

}</url>
    </webLinks>
</CustomObject>
